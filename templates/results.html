{% extends 'djaroo_base.html' %}
{% load staticfiles %}

<head>
    <!--  Page Title -->
    <title>
        {% block head_title %} Results {{ block.super }}{% endblock %}
    </title>
    <!--  Stylesheet -->
    {% block stylesheets %}
        <link href="{% static 'css/results.css' %}" rel="stylesheet">
    {% endblock %}
</head>

{% block content %}

    <!-- Feature: information elements -->
    {% include "info_elements.html" %}

    <!-- Main Section -->
    <!-- Container: Results Headers Section (my specs, best match, etc.) -->
    <div id="headers-wrapper" class="container-fluid">
        <!-- Raw: Headers -->
        <div class="row">
            <!-- Column: My Specs -->
            <div class="hidden-xs col-sm-4">

            </div>
            <!-- Column: Results Headers -->
            <div id="results-headers" class="col-xs-12 col-sm-8 center-block">
                <button id="ind1">
                    <span>{{ final_offers.1.sort_indicator }}</span>
                    <i class="fa fa-line-chart" aria-hidden="true"></i>
                </button>
                <button id="ind0">
                    <span>{{ final_offers.0.sort_indicator }}</span>
                    <i class="fa fa-star" aria-hidden="true"></i>
                </button>
                <button id="ind2">
                    <span>{{ final_offers.2.sort_indicator }}</span>
                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- Container: Results Products and Filtering Section -->
    <div class="container-fluid">
        <!-- Raw: Main Results -->
        <div id="" class="row">
            <!-- Column: Filters -->
            <div class="hidden-xs col-sm-4">
                <!-- Feature: Specification -->
                {% include "results_specs.html" %}
            </div>
            <!-- Column: Products -->
            <div id="results-section" class="col-xs-offset-2 col-xs-8 col-sm-8">
                {% for deal in final_offers %}
                    <div id="{{ deal.sort_indicator }}" class="results-deal">
                        <a href="{{ deal.offers.0.deal_url }}" target="_blank" class="deal-link">
                            <span>{{ deal.brand }}&nbsp;{{ deal.model }}</span>
                            <img src="{{ deal.image_url }}">
                        </a>
                        <table class="table table-hover">
                            <tbody>
                                {% for key, val in deal.features.items %}
                                    <tr>
                                        <td>{{ key }}</td>
                                        {% if key == 'Storage' %}
                                            <td>{{ val.0 }}&nbsp;SSD<br>{{ val.1 }}&nbsp;HDD</td>
                                        {% else %}
                                            <td>{{ val }}</td>
                                        {% endif %}
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Scripts -->
    {% include "results_js.html" %}

{% endblock %}